# AI Agent Prompt: Block Processing Mode

> **Ğ’ĞµÑ€ÑĞ¸Ñ:** 2.0 - Ğ‘Ğ»Ğ¾Ñ‡Ğ½Ğ°Ñ Ğ¾Ğ±Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ° Ğ´Ğ»Ğ¸Ğ½Ğ½Ñ‹Ñ… Ğ²Ğ¸Ğ´ĞµĞ¾
> **Ğ”Ğ°Ñ‚Ğ°:** 2025-11-26

---

## ğŸ¯ ĞšĞ¾Ğ½Ñ‚ĞµĞºÑÑ‚: ĞĞ±Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ° Ğ¿Ğ¾ Ğ±Ğ»Ğ¾ĞºĞ°Ğ¼

Ğ¢Ñ‹ Ğ¿Ğ¾Ğ»ÑƒÑ‡Ğ°ĞµÑˆÑŒ **Ğ‘Ğ›ĞĞš Ğ²Ğ¸Ğ´ĞµĞ¾**, Ğ° Ğ½Ğµ Ğ²ÑĞµ Ğ²Ğ¸Ğ´ĞµĞ¾ Ñ†ĞµĞ»Ğ¸ĞºĞ¾Ğ¼. Ğ­Ñ‚Ğ¾ ÑĞ´ĞµĞ»Ğ°Ğ½Ğ¾ Ğ´Ğ»Ñ:
- âœ… Ğ£Ğ¼ĞµĞ½ÑŒÑˆĞµĞ½Ğ¸Ñ Ñ€Ğ°Ğ·Ğ¼ĞµÑ€Ğ° Ğ¿Ñ€Ğ¾Ğ¼Ğ¿Ñ‚Ğ° (ÑĞºĞ¾Ğ½Ğ¾Ğ¼Ğ¸Ñ Ñ‚Ğ¾ĞºĞµĞ½Ğ¾Ğ²)
- âœ… ĞĞ±Ñ…Ğ¾Ğ´Ğ° Ğ»Ğ¸Ğ¼Ğ¸Ñ‚Ğ¾Ğ² AI Ğ¼Ğ¾Ğ´ĞµĞ»ĞµĞ¹
- âœ… ĞŸĞ¾ÑĞ»ĞµĞ´Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»ÑŒĞ½Ğ¾Ğ¹ Ğ¾Ğ±Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ¸ Ğ´Ğ»Ğ¸Ğ½Ğ½Ñ‹Ñ… Ğ²Ğ¸Ğ´ĞµĞ¾ (1+ Ñ‡Ğ°Ñ)

**Ğ’ĞĞ–ĞĞ:** Ğ’Ğ¸Ğ´ĞµĞ¾ Ñ€Ğ°Ğ·Ğ´ĞµĞ»ĞµĞ½Ğ¾ Ğ½Ğ° Ğ½ĞµÑĞºĞ¾Ğ»ÑŒĞºĞ¾ Ğ±Ğ»Ğ¾ĞºĞ¾Ğ². ĞšĞ°Ğ¶Ğ´Ñ‹Ğ¹ Ğ±Ğ»Ğ¾Ğº Ğ¾Ğ±Ñ€Ğ°Ğ±Ğ°Ñ‚Ñ‹Ğ²Ğ°ĞµÑ‚ÑÑ Ğ¾Ñ‚Ğ´ĞµĞ»ÑŒĞ½Ğ¾, Ğ° Ñ€ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚Ñ‹ Ğ·Ğ°Ñ‚ĞµĞ¼ Ğ¾Ğ±ÑŠĞµĞ´Ğ¸Ğ½ÑÑÑ‚ÑÑ.

---

## ğŸ“¦ Ğ¡Ñ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ° Ğ±Ğ»Ğ¾ĞºĞ°

Ğ¢Ñ‹ Ğ¿Ğ¾Ğ»ÑƒÑ‡Ğ°ĞµÑˆÑŒ Ğ¾Ğ±ÑŠĞµĞºÑ‚ ÑĞ¾ ÑĞ»ĞµĞ´ÑƒÑÑ‰Ğ¸Ğ¼Ğ¸ Ğ¿Ğ¾Ğ»ÑĞ¼Ğ¸:

```json
{
  "block_id": 2,              // ĞĞ¾Ğ¼ĞµÑ€ Ñ‚ĞµĞºÑƒÑ‰ĞµĞ³Ğ¾ Ğ±Ğ»Ğ¾ĞºĞ° (1, 2, 3, ...)
  "total_blocks": 3,          // Ğ’ÑĞµĞ³Ğ¾ Ğ±Ğ»Ğ¾ĞºĞ¾Ğ² Ğ² Ğ²Ğ¸Ğ´ĞµĞ¾

  "block_start": 1710,        // ĞĞ°Ñ‡Ğ°Ğ»Ğ¾ Ğ’Ğ¡Ğ•Ğ“Ğ Ğ±Ğ»Ğ¾ĞºĞ° (Ñ overlap) Ğ² ÑĞµĞºÑƒĞ½Ğ´Ğ°Ñ…
  "block_end": 3690,          // ĞšĞ¾Ğ½ĞµÑ† Ğ’Ğ¡Ğ•Ğ“Ğ Ğ±Ğ»Ğ¾ĞºĞ° (Ñ overlap) Ğ² ÑĞµĞºÑƒĞ½Ğ´Ğ°Ñ…

  "main_zone_start": 1800,    // ĞĞ°Ñ‡Ğ°Ğ»Ğ¾ Ğ“Ğ›ĞĞ’ĞĞĞ™ Ğ—ĞĞĞ« (Ğ‘Ğ•Ğ— overlap) Ğ² ÑĞµĞºÑƒĞ½Ğ´Ğ°Ñ…
  "main_zone_end": 3600,      // ĞšĞ¾Ğ½ĞµÑ† Ğ“Ğ›ĞĞ’ĞĞĞ™ Ğ—ĞĞĞ« (Ğ‘Ğ•Ğ— overlap) Ğ² ÑĞµĞºÑƒĞ½Ğ´Ğ°Ñ…

  "text_llm": "...",          // Ğ¢Ñ€Ğ°Ğ½ÑĞºÑ€Ğ¸Ğ¿Ñ†Ğ¸Ñ Ğ´Ğ»Ñ ÑÑ‚Ğ¾Ğ³Ğ¾ Ğ±Ğ»Ğ¾ĞºĞ°
  "words_llm": [{w, s, e}],   // Ğ¡Ğ»Ğ¾Ğ²Ğ° Ñ Ğ°Ğ±ÑĞ¾Ğ»ÑÑ‚Ğ½Ñ‹Ğ¼Ğ¸ Ñ‚Ğ°Ğ¹Ğ¼ĞºĞ¾Ğ´Ğ°Ğ¼Ğ¸

  "video_duration": 5400,     // ĞĞ±Ñ‰Ğ°Ñ Ğ´Ğ»Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ğ¾ÑÑ‚ÑŒ Ğ’Ğ¡Ğ•Ğ“Ğ Ğ²Ğ¸Ğ´ĞµĞ¾ (ÑĞµĞºÑƒĞ½Ğ´Ñ‹)
  "duration": "PT1H30M0S",    // ISO8601 Ñ„Ğ¾Ñ€Ğ¼Ğ°Ñ‚ Ğ’Ğ¡Ğ•Ğ“Ğ Ğ²Ğ¸Ğ´ĞµĞ¾
  "language": "ru",
  "client_meta": {...}
}
```

---

## âš ï¸ ĞšĞ Ğ˜Ğ¢Ğ˜Ğ§Ğ•Ğ¡ĞšĞ˜ Ğ’ĞĞ–ĞĞ«Ğ• ĞŸĞ ĞĞ’Ğ˜Ğ›Ğ

### 1. **Ğ“Ğ›ĞĞ’ĞĞĞ¯ Ğ—ĞĞĞ (Main Zone)**

**Shorts ĞĞ‘Ğ¯Ğ—ĞĞĞ« Ğ½Ğ°Ñ‡Ğ¸Ğ½Ğ°Ñ‚ÑŒÑÑ Ğ’ Ğ“Ğ›ĞĞ’ĞĞĞ™ Ğ—ĞĞĞ•!**

```
Block structure:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Overlap  â”‚     MAIN ZONE      â”‚    Overlap        â”‚
â”‚  BEFORE   â”‚  (find shorts here) â”‚    AFTER         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
  1710      1800                3600              3690
            â†‘                    â†‘
            main_zone_start      main_zone_end
```

**âœ… ĞŸĞ ĞĞ’Ğ˜Ğ›Ğ¬ĞĞ:**
```json
{
  "start_time": 1850,  // ĞĞ°Ñ‡Ğ°Ğ»Ğ¾ Ğ² main zone (1800-3600)
  "end_time": 1920     // ĞšĞ¾Ğ½ĞµÑ† Ğ¼Ğ¾Ğ¶ĞµÑ‚ Ğ±Ñ‹Ñ‚ÑŒ Ğ³Ğ´Ğµ ÑƒĞ³Ğ¾Ğ´Ğ½Ğ¾
}
```

**âŒ ĞĞ•ĞŸĞ ĞĞ’Ğ˜Ğ›Ğ¬ĞĞ:**
```json
{
  "start_time": 1750,  // ĞĞ°Ñ‡Ğ°Ğ»Ğ¾ Ğ”Ğ main_zone_start (Ğ² overlap Ğ·Ğ¾Ğ½Ğµ!)
  "end_time": 1850
}
```

**âŒ ĞĞ•ĞŸĞ ĞĞ’Ğ˜Ğ›Ğ¬ĞĞ:**
```json
{
  "start_time": 3650,  // ĞĞ°Ñ‡Ğ°Ğ»Ğ¾ ĞŸĞĞ¡Ğ›Ğ• main_zone_end!
  "end_time": 3720
}
```

### 2. **Overlap Ğ·Ğ¾Ğ½Ñ‹ - Ñ‚Ğ¾Ğ»ÑŒĞºĞ¾ Ğ´Ğ»Ñ ĞºĞ¾Ğ½Ñ‚ĞµĞºÑÑ‚Ğ°**

**Overlap BEFORE** (`block_start` â†’ `main_zone_start`):
- Ğ˜ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞ¹ Ğ´Ğ»Ñ Ğ¿Ğ¾Ğ½Ğ¸Ğ¼Ğ°Ğ½Ğ¸Ñ ĞºĞ¾Ğ½Ñ‚ĞµĞºÑÑ‚Ğ° ĞŸĞ•Ğ Ğ•Ğ” Ğ³Ğ»Ğ°Ğ²Ğ½Ğ¾Ğ¹ Ğ·Ğ¾Ğ½Ğ¾Ğ¹
- ĞĞ• ÑĞ¾Ğ·Ğ´Ğ°Ğ²Ğ°Ğ¹ shorts, ĞºĞ¾Ñ‚Ğ¾Ñ€Ñ‹Ğµ Ğ½Ğ°Ñ‡Ğ¸Ğ½Ğ°ÑÑ‚ÑÑ Ğ² ÑÑ‚Ğ¾Ğ¹ Ğ·Ğ¾Ğ½Ğµ
- ĞŸÑ€Ğ¸Ğ¼ĞµÑ€: Ğ²Ğ¸Ğ´Ğ¸ÑˆÑŒ Ñ„Ñ€Ğ°Ğ·Ñƒ Ğ² 1750 ÑĞµĞº â†’ Ğ¿Ğ¾Ğ½Ğ¸Ğ¼Ğ°ĞµÑˆÑŒ Ğ¾ Ñ‡Ñ‘Ğ¼ Ñ€ĞµÑ‡ÑŒ Ğ² 1800 ÑĞµĞº

**Overlap AFTER** (`main_zone_end` â†’ `block_end`):
- Ğ˜ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞ¹ Ğ´Ğ»Ñ Ğ·Ğ°Ğ²ĞµÑ€ÑˆĞµĞ½Ğ¸Ñ shorts, ĞºĞ¾Ñ‚Ğ¾Ñ€Ñ‹Ğ¹ Ğ½Ğ°Ñ‡Ğ°Ğ»ÑÑ Ğ² main zone
- ĞŸÑ€Ğ¸Ğ¼ĞµÑ€: shorts Ğ½Ğ°Ñ‡Ğ°Ğ»ÑÑ Ğ² 3580 ÑĞµĞº, Ğ·Ğ°ĞºĞ¾Ğ½Ñ‡Ğ¸Ğ»ÑÑ Ğ² 3650 ÑĞµĞº âœ…

### 3. **ĞĞ±ÑĞ¾Ğ»ÑÑ‚Ğ½Ñ‹Ğµ Ñ‚Ğ°Ğ¹Ğ¼ĞºĞ¾Ğ´Ñ‹**

**Ğ’Ğ¡Ğ• Ğ¢ĞĞ™ĞœĞšĞĞ”Ğ« ĞĞ‘Ğ¡ĞĞ›Ğ®Ğ¢ĞĞ«Ğ•** (Ğ¾Ñ‚ Ğ½Ğ°Ñ‡Ğ°Ğ»Ğ° Ğ²ÑĞµĞ³Ğ¾ Ğ²Ğ¸Ğ´ĞµĞ¾, Ğ½Ğµ Ğ¾Ñ‚ Ğ½Ğ°Ñ‡Ğ°Ğ»Ğ° Ğ±Ğ»Ğ¾ĞºĞ°!)

```javascript
// words_llm ÑĞ¾Ğ´ĞµÑ€Ğ¶Ğ¸Ñ‚:
[
  {w: "ĞŸÑ€Ğ¸Ğ²ĞµÑ‚", s: 1850.5, e: 1851.2},  // s Ğ¸ e - ĞĞ‘Ğ¡ĞĞ›Ğ®Ğ¢ĞĞ«Ğ• ÑĞµĞºÑƒĞ½Ğ´Ñ‹
  {w: "Ğ¼Ğ¸Ñ€", s: 1851.3, e: 1851.8},
  ...
]
```

**âœ… Ğ˜ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞ¹ ÑÑ‚Ğ¸ Ñ‚Ğ°Ğ¹Ğ¼ĞºĞ¾Ğ´Ñ‹ Ğ½Ğ°Ğ¿Ñ€ÑĞ¼ÑƒÑ:**
```json
{
  "start_time": 1850.5,  // ĞŸÑ€ÑĞ¼Ğ¾ Ğ¸Ğ· words_llm
  "end_time": 1920.3
}
```

**âŒ ĞĞ• Ğ²Ñ‹Ñ‡Ğ¸Ñ‚Ğ°Ğ¹ block_start:**
```json
{
  "start_time": 140.5,   // ĞĞ•ĞŸĞ ĞĞ’Ğ˜Ğ›Ğ¬ĞĞ! (1850.5 - 1710 = 140.5)
  "end_time": 210.3
}
```

---

## ğŸ¬ ĞĞ»Ğ³Ğ¾Ñ€Ğ¸Ñ‚Ğ¼ Ğ¿Ğ¾Ğ¸ÑĞºĞ° shorts Ğ² Ğ±Ğ»Ğ¾ĞºĞµ

### Ğ¨Ğ°Ğ³ 1: ĞĞ½Ğ°Ğ»Ğ¸Ğ· ĞºĞ¾Ğ½Ñ‚ĞµĞºÑÑ‚Ğ°

1. ĞŸÑ€Ğ¾Ñ‡Ğ¸Ñ‚Ğ°Ğ¹ **Ğ²ĞµÑÑŒ Ñ‚ĞµĞºÑÑ‚ Ğ±Ğ»Ğ¾ĞºĞ°** (`text_llm`) Ğ´Ğ»Ñ Ğ¿Ğ¾Ğ½Ğ¸Ğ¼Ğ°Ğ½Ğ¸Ñ Ğ¾Ğ±Ñ‰ĞµĞ¹ Ñ‚ĞµĞ¼Ñ‹
2. ĞĞ±Ñ€Ğ°Ñ‚Ğ¸ Ğ²Ğ½Ğ¸Ğ¼Ğ°Ğ½Ğ¸Ğµ Ğ½Ğ° **overlap Ğ·Ğ¾Ğ½Ñ‹** Ğ´Ğ»Ñ ĞºĞ¾Ğ½Ñ‚ĞµĞºÑÑ‚Ğ°:
   - Overlap BEFORE Ğ¿Ğ¾ĞºĞ°Ğ·Ñ‹Ğ²Ğ°ĞµÑ‚, Ñ‡Ñ‚Ğ¾ Ğ±Ñ‹Ğ»Ğ¾ Ğ”Ğ main zone
   - Overlap AFTER Ğ¿Ğ¾ĞºĞ°Ğ·Ñ‹Ğ²Ğ°ĞµÑ‚, Ñ‡Ñ‚Ğ¾ Ğ±ÑƒĞ´ĞµÑ‚ ĞŸĞĞ¡Ğ›Ğ• main zone

### Ğ¨Ğ°Ğ³ 2: ĞŸĞ¾Ğ¸ÑĞº Ğ²Ğ¸Ñ€ÑƒÑĞ½Ñ‹Ñ… Ğ¼Ğ¾Ğ¼ĞµĞ½Ñ‚Ğ¾Ğ²

Ğ˜Ñ‰Ğ¸ Ğ¸Ğ½Ñ‚ĞµÑ€ĞµÑĞ½Ñ‹Ğµ Ğ¼Ğ¾Ğ¼ĞµĞ½Ñ‚Ñ‹ **Ğ¢ĞĞ›Ğ¬ĞšĞ Ğ’ Ğ“Ğ›ĞĞ’ĞĞĞ™ Ğ—ĞĞĞ•**:

```javascript
// ĞŸÑ€Ğ¾Ğ²ĞµÑ€ÑĞ¹, Ñ‡Ñ‚Ğ¾ start_time Ğ½Ğ°Ñ…Ğ¾Ğ´Ğ¸Ñ‚ÑÑ Ğ² main zone
if (start_time >= main_zone_start && start_time < main_zone_end) {
  // âœ… ĞœĞ¾Ğ¶Ğ½Ğ¾ ÑĞ¾Ğ·Ğ´Ğ°Ğ²Ğ°Ñ‚ÑŒ shorts
}
```

### Ğ¨Ğ°Ğ³ 3: ĞĞ¿Ñ€ĞµĞ´ĞµĞ»ĞµĞ½Ğ¸Ğµ Ğ³Ñ€Ğ°Ğ½Ğ¸Ñ† shorts

1. **ĞĞ°Ñ‡Ğ°Ğ»Ğ¾ shorts** Ğ”ĞĞ›Ğ–ĞĞ Ğ±Ñ‹Ñ‚ÑŒ Ğ² main zone
2. **ĞšĞ¾Ğ½ĞµÑ† shorts** ĞœĞĞ–Ğ•Ğ¢ Ğ±Ñ‹Ñ‚ÑŒ Ğ² overlap AFTER Ğ·Ğ¾Ğ½Ğµ (ĞµÑĞ»Ğ¸ Ñ„Ñ€Ğ°Ğ·Ğ° Ğ¿Ñ€Ğ¾Ğ´Ğ¾Ğ»Ğ¶Ğ°ĞµÑ‚ÑÑ)
3. ĞœĞ°ĞºÑĞ¸Ğ¼Ğ°Ğ»ÑŒĞ½Ğ°Ñ Ğ´Ğ»Ğ¸Ğ½Ğ° shorts: **59 ÑĞµĞºÑƒĞ½Ğ´**

```javascript
// ĞŸÑ€Ğ¸Ğ¼ĞµÑ€ Ğ¿Ñ€Ğ°Ğ²Ğ¸Ğ»ÑŒĞ½Ğ¾Ğ³Ğ¾ shorts
{
  start_time: 3580,  // Ğ’ main zone (1800-3600)
  end_time: 3638,    // Ğ’ overlap AFTER Ğ·Ğ¾Ğ½Ğµ (3600-3690) - âœ… OK!
  duration: 58       // ĞœĞµĞ½ÑŒÑˆĞµ 59 ÑĞµĞº - âœ… OK!
}
```

### Ğ¨Ğ°Ğ³ 4: Ğ˜Ğ·Ğ²Ğ»ĞµÑ‡ĞµĞ½Ğ¸Ğµ ÑĞ»Ğ¾Ğ²

Ğ˜ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞ¹ `words_llm` Ğ´Ğ»Ñ Ñ‚Ğ¾Ñ‡Ğ½Ğ¾Ğ³Ğ¾ Ğ¾Ğ¿Ñ€ĞµĞ´ĞµĞ»ĞµĞ½Ğ¸Ñ Ğ³Ñ€Ğ°Ğ½Ğ¸Ñ†:

```javascript
// ĞĞ°Ğ¹Ğ´Ğ¸ Ğ¿ĞµÑ€Ğ²Ğ¾Ğµ ÑĞ»Ğ¾Ğ²Ğ¾ shorts
const firstWord = words_llm.find(w =>
  w.s >= main_zone_start &&
  w.w.includes("ĞºĞ»ÑÑ‡ĞµĞ²Ğ¾Ğµ_ÑĞ»Ğ¾Ğ²Ğ¾")
);

// ĞĞ°Ğ¹Ğ´Ğ¸ Ğ¿Ğ¾ÑĞ»ĞµĞ´Ğ½ĞµĞµ ÑĞ»Ğ¾Ğ²Ğ¾ (Ğ¼Ğ¾Ğ¶ĞµÑ‚ Ğ±Ñ‹Ñ‚ÑŒ Ğ² overlap AFTER)
const lastWord = words_llm.find(w =>
  w.s >= firstWord.s &&
  w.e <= block_end &&
  (w.e - firstWord.s) <= 59  // ĞĞµ Ğ±Ğ¾Ğ»ÑŒÑˆĞµ 59 ÑĞµĞº
);

// Ğ¡Ğ¾Ğ·Ğ´Ğ°Ğ¹ shorts
{
  start_time: firstWord.s,
  end_time: lastWord.e,
  duration: Math.round(lastWord.e - firstWord.s)
}
```

---

## ğŸ“Š ĞšĞ¾Ğ»Ğ¸Ñ‡ĞµÑÑ‚Ğ²Ğ¾ shorts Ğ½Ğ° Ğ±Ğ»Ğ¾Ğº

**Ğ ĞµĞºĞ¾Ğ¼ĞµĞ½Ğ´ÑƒĞµĞ¼Ğ¾Ğµ ĞºĞ¾Ğ»Ğ¸Ñ‡ĞµÑÑ‚Ğ²Ğ¾:**
- ĞœĞ¸Ğ½Ğ¸Ğ¼ÑƒĞ¼: 2 shorts Ğ½Ğ° Ğ±Ğ»Ğ¾Ğº
- ĞœĞ°ĞºÑĞ¸Ğ¼ÑƒĞ¼: 5 shorts Ğ½Ğ° Ğ±Ğ»Ğ¾Ğº
- ĞĞ¿Ñ‚Ğ¸Ğ¼Ğ°Ğ»ÑŒĞ½Ğ¾: 3-4 shorts Ğ½Ğ° Ğ±Ğ»Ğ¾Ğº

**ĞŸĞ¾Ñ‡ĞµĞ¼Ñƒ Ğ½Ğµ Ğ±Ğ¾Ğ»ÑŒÑˆĞµ?**
- Ğ‘Ğ»Ğ¾ĞºĞ¸ Ğ¾Ğ±Ñ€Ğ°Ğ±Ğ°Ñ‚Ñ‹Ğ²Ğ°ÑÑ‚ÑÑ Ğ¿Ğ¾ÑĞ»ĞµĞ´Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»ÑŒĞ½Ğ¾
- Ğ ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚Ñ‹ Ğ¾Ğ±ÑŠĞµĞ´Ğ¸Ğ½ÑÑÑ‚ÑÑ
- Ğ˜Ğ· 3 Ğ±Ğ»Ğ¾ĞºĞ¾Ğ² Ã— 4 shorts = 12 shorts Ğ½Ğ° Ğ²ĞµÑÑŒ Ñ„Ğ¸Ğ»ÑŒĞ¼
- ĞŸĞ¾ÑĞ»Ğµ Ğ´ĞµĞ´ÑƒĞ¿Ğ»Ğ¸ĞºĞ°Ñ†Ğ¸Ğ¸ Ğ¾ÑÑ‚Ğ°Ğ½ĞµÑ‚ÑÑ ~10-11 ÑƒĞ½Ğ¸ĞºĞ°Ğ»ÑŒĞ½Ñ‹Ñ… shorts

---

## ğŸ” ĞŸÑ€Ğ¸Ğ¼ĞµÑ€Ñ‹

### ĞŸÑ€Ğ¸Ğ¼ĞµÑ€ 1: ĞšĞ¾Ñ€Ğ¾Ñ‚ĞºĞ¸Ğ¹ shorts Ğ² ÑĞµÑ€ĞµĞ´Ğ¸Ğ½Ğµ Ğ±Ğ»Ğ¾ĞºĞ°

```json
{
  "block_id": 2,
  "main_zone_start": 1800,
  "main_zone_end": 3600,
  "block_start": 1710,
  "block_end": 3690
}
```

**ĞĞ°Ğ¹Ğ´ĞµĞ½ Ğ¼Ğ¾Ğ¼ĞµĞ½Ñ‚:**
```json
{
  "title": "Ğ­Ğ¿Ğ¸Ñ‡Ğ½Ñ‹Ğ¹ Ğ¼Ğ¾Ğ¼ĞµĞ½Ñ‚",
  "subtitle": "ĞĞµĞ²ĞµÑ€Ğ¾ÑÑ‚Ğ½Ğ¾!",
  "start_time": 2500,     // Ğ’ main zone âœ…
  "end_time": 2545,       // Ğ’ main zone âœ…
  "duration": 45,
  "virality_score": 9.2
}
```

### ĞŸÑ€Ğ¸Ğ¼ĞµÑ€ 2: Shorts Ğ½Ğ° Ğ³Ñ€Ğ°Ğ½Ğ¸Ñ†Ğµ main zone

```json
{
  "block_id": 2,
  "main_zone_start": 1800,
  "main_zone_end": 3600,
  "block_end": 3690
}
```

**ĞĞ°Ğ¹Ğ´ĞµĞ½ Ğ¼Ğ¾Ğ¼ĞµĞ½Ñ‚:**
```json
{
  "title": "ĞšÑƒĞ»ÑŒĞ¼Ğ¸Ğ½Ğ°Ñ†Ğ¸Ñ",
  "subtitle": "Ğ’Ğ¾Ñ‚ ÑÑ‚Ğ¾ Ğ¿Ğ¾Ğ²Ğ¾Ñ€Ğ¾Ñ‚",
  "start_time": 3580,     // Ğ’ main zone âœ…
  "end_time": 3638,       // Ğ’ overlap AFTER âœ… (Ñ„Ñ€Ğ°Ğ·Ğ° Ğ¿Ñ€Ğ¾Ğ´Ğ¾Ğ»Ğ¶Ğ°ĞµÑ‚ÑÑ)
  "duration": 58,
  "virality_score": 9.5
}
```

### ĞŸÑ€Ğ¸Ğ¼ĞµÑ€ 3: ĞĞ•ĞŸĞ ĞĞ’Ğ˜Ğ›Ğ¬ĞĞ«Ğ™ shorts (Ğ½Ğ°Ñ‡Ğ°Ğ»Ğ¾ Ğ² overlap)

```json
{
  "block_id": 2,
  "main_zone_start": 1800,
  "block_start": 1710
}
```

**âŒ ĞĞ•ĞŸĞ ĞĞ’Ğ˜Ğ›Ğ¬ĞĞ:**
```json
{
  "start_time": 1750,     // âŒ ĞĞ°Ñ‡Ğ°Ğ»Ğ¾ Ğ² overlap BEFORE Ğ·Ğ¾Ğ½Ğµ!
  "end_time": 1810
}
```

**ĞŸĞ¾Ñ‡ĞµĞ¼Ñƒ Ğ½ĞµĞ¿Ñ€Ğ°Ğ²Ğ¸Ğ»ÑŒĞ½Ğ¾:**
- Ğ­Ñ‚Ğ¾Ñ‚ Ğ¼Ğ¾Ğ¼ĞµĞ½Ñ‚ Ğ±ÑƒĞ´ĞµÑ‚ Ğ¾Ğ±Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ°Ğ½ ĞŸĞ Ğ•Ğ”Ğ«Ğ”Ğ£Ğ©Ğ˜Ğœ Ğ±Ğ»Ğ¾ĞºĞ¾Ğ¼ (block_id: 1)
- Ğ•ÑĞ»Ğ¸ Ğ¼Ñ‹ ÑĞ¾Ğ·Ğ´Ğ°Ğ´Ğ¸Ğ¼ ĞµĞ³Ğ¾ Ğ² Ñ‚ĞµĞºÑƒÑ‰ĞµĞ¼ Ğ±Ğ»Ğ¾ĞºĞµ â†’ Ğ¿Ğ¾Ğ»ÑƒÑ‡Ğ¸Ğ¼ Ğ”Ğ£Ğ‘Ğ›Ğ˜ĞšĞĞ¢

---

## ğŸš¨ Ğ’Ğ°Ğ¶Ğ½Ñ‹Ğµ Ğ½Ğ°Ğ¿Ğ¾Ğ¼Ğ¸Ğ½Ğ°Ğ½Ğ¸Ñ

1. **ĞŸÑ€Ğ¾Ğ²ĞµÑ€ÑĞ¹ Ğ³Ñ€Ğ°Ğ½Ğ¸Ñ†Ñ‹ main zone** Ğ¿ĞµÑ€ĞµĞ´ ÑĞ¾Ğ·Ğ´Ğ°Ğ½Ğ¸ĞµĞ¼ ĞºĞ°Ğ¶Ğ´Ğ¾Ğ³Ğ¾ shorts
2. **Ğ˜ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞ¹ Ğ°Ğ±ÑĞ¾Ğ»ÑÑ‚Ğ½Ñ‹Ğµ Ñ‚Ğ°Ğ¹Ğ¼ĞºĞ¾Ğ´Ñ‹** Ğ¸Ğ· `words_llm`
3. **ĞĞ• ÑĞ¾Ğ·Ğ´Ğ°Ğ²Ğ°Ğ¹ shorts Ğ² overlap BEFORE Ğ·Ğ¾Ğ½Ğµ** - ÑÑ‚Ğ¾ ÑĞ¾Ğ·Ğ´Ğ°ÑÑ‚ Ğ´ÑƒĞ±Ğ»Ğ¸ĞºĞ°Ñ‚Ñ‹
4. **ĞœĞ¾Ğ¶Ğ½Ğ¾ Ğ·Ğ°Ğ²ĞµÑ€ÑˆĞ°Ñ‚ÑŒ shorts Ğ² overlap AFTER Ğ·Ğ¾Ğ½Ğµ** - ĞµÑĞ»Ğ¸ Ñ„Ñ€Ğ°Ğ·Ğ° Ğ¿Ñ€Ğ¾Ğ´Ğ¾Ğ»Ğ¶Ğ°ĞµÑ‚ÑÑ
5. **ĞœĞ°ĞºÑĞ¸Ğ¼ÑƒĞ¼ 59 ÑĞµĞºÑƒĞ½Ğ´ Ğ½Ğ° shorts** - ÑÑ‚Ğ¾ Ğ¶Ñ‘ÑÑ‚ĞºĞ¾Ğµ Ğ¾Ğ³Ñ€Ğ°Ğ½Ğ¸Ñ‡ĞµĞ½Ğ¸Ğµ
6. **ĞĞ¿Ñ‚Ğ¸Ğ¼Ğ°Ğ»ÑŒĞ½Ğ¾ 3-4 shorts Ğ½Ğ° Ğ±Ğ»Ğ¾Ğº** - Ğ´Ğ»Ñ Ğ±Ğ°Ğ»Ğ°Ğ½ÑĞ° ĞºĞ°Ñ‡ĞµÑÑ‚Ğ²Ğ° Ğ¸ ĞºĞ¾Ğ»Ğ¸Ñ‡ĞµÑÑ‚Ğ²Ğ°

---

## ğŸ“ Ğ¤Ğ¾Ñ€Ğ¼Ğ°Ñ‚ Ğ¾Ñ‚Ğ²ĞµÑ‚Ğ°

Ğ’ĞµÑ€Ğ½Ğ¸ **Ğ§Ğ˜Ğ¡Ğ¢Ğ«Ğ™ JSON** (Ğ±ĞµĞ· markdown Ğ±Ğ»Ğ¾ĞºĞ¾Ğ², Ğ±ĞµĞ· Ğ¿Ğ¾ÑÑĞ½ĞµĞ½Ğ¸Ğ¹):

```json
{
  "shorts": [
    {
      "title": "Ğ—Ğ°Ğ³Ğ¾Ğ»Ğ¾Ğ²Ğ¾Ğº",
      "subtitle": "ĞŸĞ¾Ğ´Ğ·Ğ°Ğ³Ğ¾Ğ»Ğ¾Ğ²Ğ¾Ğº",
      "start_time": 1850.5,
      "end_time": 1908.2,
      "duration": 58,
      "virality_score": 8.5,
      "reasoning": "ĞŸĞ¾Ñ‡ĞµĞ¼Ñƒ Ğ²Ğ¸Ñ€ÑƒÑĞ½Ñ‹Ğ¹"
    }
  ]
}
```

**ĞŸÑ€Ğ¾Ğ²ĞµÑ€ÑŒ Ğ¿ĞµÑ€ĞµĞ´ Ğ¾Ñ‚Ğ¿Ñ€Ğ°Ğ²ĞºĞ¾Ğ¹:**
- âœ… Ğ’ÑĞµ `start_time >= main_zone_start`
- âœ… Ğ’ÑĞµ `start_time < main_zone_end`
- âœ… Ğ’ÑĞµ `duration <= 59`
- âœ… Ğ’ÑĞµ Ñ‚Ğ°Ğ¹Ğ¼ĞºĞ¾Ğ´Ñ‹ Ğ°Ğ±ÑĞ¾Ğ»ÑÑ‚Ğ½Ñ‹Ğµ (Ğ¸Ğ· `words_llm`)
- âœ… ĞšĞ¾Ğ»Ğ¸Ñ‡ĞµÑÑ‚Ğ²Ğ¾ shorts: 2-5

---

**Ğ£Ğ´Ğ°Ñ‡Ğ¸! ğŸš€**
